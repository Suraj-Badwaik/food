<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignUp</title>
    <link rel="stylesheet" href="./styles/navbar.css">
  <link rel="stylesheet" href="./styles/signup.css">
</head>
<body>
    <div id="navbar"></div>
    <form >
        <h2>Signup</h2>
        <input type="text"  id="name" placeholder="Enter your name">
        <input type="email"  id="email" placeholder="Enter your email">
        <input type="password"  id="password" placeholder="Enter your password">
        <input type="text"  id="username" placeholder="Enter your username">
        <input type="text"  id="mobile" placeholder="Enter your mobile number">
        <input type="text"  id="description" placeholder="Enter short description ">
        <button id="submit">Submit</button>
    </form>
</body>
</html>


<script type="module">
    import navbar from "./component/navbar.js"

    document.getElementById('navbar').innerHTML = navbar();

   

    let register = async (e) =>{
        e.preventDefault();

        let form_data = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            password: document.getElementById('password').value,
            username: document.getElementById('username').value,
            mobile: document.getElementById('mobile').value,
            description: document.getElementById('description').value
        };

        form_data = JSON.stringify(form_data)

        let res = await fetch(
            'https://masai-api-mocker.herokuapp.com/auth/register',{
            method: 'POST',
            body: form_data,

            headers:{
                'Content-type' : 'application/json',
            },
        }
        );

        let data = await res.json();
        console.log('data:', data)
    };
    
    document.getElementById('submit').addEventListener('click', register)
</script>